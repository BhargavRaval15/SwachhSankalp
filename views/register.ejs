<%- include("partials/header") %>

<section class="registration-section">
  <h2 class="register-title">Register</h2>

  <% if (error_msg) { %>
    <p class="error-msg"><%= error_msg %></p>
  <% } %>

  <form action="/users/register" method="POST" class="registration-form" onsubmit="return validateRegisterForm()">
    <div class="form-group">
      <label for="username" class="form-label">Username</label>
      <input type="text" name="username" id="username" class="form-input" required />
    </div>
    <div class="form-group">
      <label for="email" class="form-label">Email</label>
      <input type="email" name="email" id="email" class="form-input" required />
    </div>
    <div class="form-group">
      <label for="password" class="form-label">Password</label>
      <input type="password" name="password" id="password" class="form-input" required />
    </div>
    <div class="form-group">
      <label for="password2" class="form-label">Confirm Password</label>
      <input type="password" name="password2" id="password2" class="form-input" required />
    </div>
    <button type="submit" class="submit-btn">Register</button>
  </form>
</section>

<%- include("partials/footer") %>

<script>
  function validateRegisterForm() {
    var password = document.getElementById('password').value;
    var password2 = document.getElementById('password2').value;

    if (password !== password2) {
      alert("Passwords do not match");
      return false;
    }

    return true;
  }
</script>
